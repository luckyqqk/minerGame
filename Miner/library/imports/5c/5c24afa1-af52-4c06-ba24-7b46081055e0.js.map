{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\data/assets\\Script\\data\\json2memory.js"],"names":["Json2memory","jsonFile","prototype","loadJson","Promise","resolve","reject","cc","loader","loadResDir","err","data","forEach","jsonAsset","name","json","getData","fileName","getDataById","id","window","JsonData"],"mappings":";;;;;;AAAA;;;AAGA,IAAMA,cAAc,SAAdA,WAAc,GAAW;AAC3B,SAAKC,QAAL,GAAgB,EAAhB;AACH,CAFD;;AAIAD,YAAYE,SAAZ,CAAsBC,QAAtB,GAAiC,YAAW;AAAA;;AACxC,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAmB;AAClCC,WAAGC,MAAH,CAAUC,UAAV,CAAqB,MAArB,EAA6B,UAACC,GAAD,EAAMC,IAAN,EAAa;AACtC,gBAAI,CAAC,CAACD,GAAN,EAAW;AACPJ,uBAAOI,GAAP;AACA;AACH;AACDC,iBAAKC,OAAL,CAAa,qBAAW;AACpB,sBAAKX,QAAL,CAAcY,UAAUC,IAAxB,IAAgCD,UAAUE,IAA1C;AACH,aAFD;AAGAV;AACH,SATD;AAUH,KAXM,CAAP;AAYH,CAbD;;AAeAL,YAAYE,SAAZ,CAAsBc,OAAtB,GAAgC,UAASC,QAAT,EAAmB;AAC/C,WAAO,KAAKhB,QAAL,CAAcgB,QAAd,CAAP;AACH,CAFD;;AAIAjB,YAAYE,SAAZ,CAAsBgB,WAAtB,GAAoC,UAASD,QAAT,EAAmBE,EAAnB,EAAuB;AACvD,WAAO,KAAKlB,QAAL,CAAcgB,QAAd,EAAwBE,EAAxB,CAAP;AACH,CAFD;;AAIAC,OAAOC,QAAP,GAAkB,IAAIrB,WAAJ,EAAlB","file":"json2memory.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\data","sourcesContent":["/**\r\n * Created by qingkai.wu on 2018/8/22.\r\n */\r\nconst Json2memory = function() {\r\n    this.jsonFile = {};\r\n};\r\n\r\nJson2memory.prototype.loadJson = function() {\r\n    return new Promise((resolve, reject)=>{\r\n        cc.loader.loadResDir(\"json\", (err, data)=>{\r\n            if (!!err) {\r\n                reject(err);\r\n                return;\r\n            }\r\n            data.forEach(jsonAsset=>{\r\n                this.jsonFile[jsonAsset.name] = jsonAsset.json;\r\n            });\r\n            resolve();\r\n        });\r\n    });\r\n};\r\n\r\nJson2memory.prototype.getData = function(fileName) {\r\n    return this.jsonFile[fileName];\r\n};\r\n\r\nJson2memory.prototype.getDataById = function(fileName, id) {\r\n    return this.jsonFile[fileName][id];\r\n};\r\n\r\nwindow.JsonData = new Json2memory();"]}