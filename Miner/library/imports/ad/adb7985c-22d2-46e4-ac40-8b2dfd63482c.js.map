{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\bean/assets\\Script\\bean\\UserInfo.js"],"names":["cc","Class","extends","Component","properties","nickname","Label","head","Sprite","gender","setNickname","nick","string","setGender","loader","loadRes","SpriteFrame","err","spriteFrame","setUserHead","url","console","log","load","type","texture","w","width","h","height","bgw","node","bgh","wScale","hScale","setScale"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,KADL;AAERC,cAAUP,GAAGQ,MAFL;AAGRC,gBAAUT,GAAGQ;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBQ,KAHP;;AAwBL;;AAEAE,eA1BK,uBA0BOC,IA1BP,EA0Ba;AACd,YAAI,CAAC,CAACA,IAAN,EACI,KAAKN,QAAL,CAAcO,MAAd,GAAuBD,IAAvB;AACP,KA7BI;AA+BLE,aA/BK,qBA+BKJ,MA/BL,EA+Ba;AAAA;;AACd,YAAIA,UAAU,GAAd,EACI;AACJT,WAAGc,MAAH,CAAUC,OAAV,CAAkB,kBAAlB,EAAsCf,GAAGgB,WAAzC,EAAsD,UAACC,GAAD,EAAMC,WAAN,EAAoB;AACtE,kBAAKT,MAAL,CAAYS,WAAZ,GAA0BA,WAA1B;AACH,SAFD;AAGH,KArCI;;AAsCLC,iBAAa,qBAAUC,GAAV,EAAe;AAAA;;AACxBC,gBAAQC,GAAR,CAAY,SAAOF,GAAnB;AACA,YAAI,CAACA,GAAL,EACI;AACJpB,WAAGc,MAAH,CAAUS,IAAV,CAAe;AACXH,iBAAKA,GADM;AAEXI,kBAAM;AAFK,SAAf,EAGG,UAACP,GAAD,EAAMQ,OAAN,EAAgB;AACf,gBAAI,CAAC,CAACR,GAAN,EAAW;AACPI,wBAAQC,GAAR,CAAY,eAAZ,EAA6BL,GAA7B;AACA;AACH;AACD,gBAAIS,IAAID,QAAQE,KAAhB;AACA,gBAAIC,IAAIH,QAAQI,MAAhB;AACA,gBAAIC,MAAM,OAAKvB,IAAL,CAAUwB,IAAV,CAAeJ,KAAzB;AACA,gBAAIK,MAAM,OAAKzB,IAAL,CAAUwB,IAAV,CAAeF,MAAzB;AACA,gBAAII,SAASH,MAAMJ,CAAnB;AACA,gBAAIQ,SAASF,MAAMJ,CAAnB;AACA,mBAAKrB,IAAL,CAAUwB,IAAV,CAAeI,QAAf,CAAwBF,MAAxB,EAA+BC,MAA/B;AACA,mBAAK3B,IAAL,CAAUW,WAAV,GAAwB,IAAIlB,GAAGgB,WAAP,CAAmBS,OAAnB,CAAxB;AACH,SAhBD;AAiBH;;AAED;AACA;AACA;AA/DK,CAAT","file":"UserInfo.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\bean","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nickname: cc.Label,\r\n        head    : cc.Sprite,\r\n        gender  : cc.Sprite,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    setNickname(nick) {\r\n        if (!!nick)\r\n            this.nickname.string = nick;\r\n    },\r\n\r\n    setGender(gender) {\r\n        if (gender != 'f')\r\n            return;\r\n        cc.loader.loadRes('ui/girl_icon.png', cc.SpriteFrame, (err, spriteFrame)=>{\r\n            this.gender.spriteFrame = spriteFrame;\r\n        });\r\n    },\r\n    setUserHead: function (url) {\r\n        console.log('头像地址'+url);\r\n        if (!url)\r\n            return;\r\n        cc.loader.load({\r\n            url: url,\r\n            type: 'jpg'\r\n        }, (err, texture)=>{\r\n            if (!!err) {\r\n                console.log('加载玩家头像错误 === ', err);\r\n                return;\r\n            }\r\n            let w = texture.width;\r\n            let h = texture.height;\r\n            let bgw = this.head.node.width;\r\n            let bgh = this.head.node.height;\r\n            let wScale = bgw / w;\r\n            let hScale = bgh / h;\r\n            this.head.node.setScale(wScale,hScale);\r\n            this.head.spriteFrame = new cc.SpriteFrame(texture);\r\n        });\r\n    },\r\n\r\n    // onLoad () {},\r\n    // start () {},\r\n    // update (dt) {},\r\n});\r\n"]}